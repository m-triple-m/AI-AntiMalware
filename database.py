import sqlite3

class database:
    def __init__(self, name='db.sqlite3'):
        self.conn = sqlite3.connect(name)

    def run(self, query, values=''):
        try:
            if values:
                result = self.conn.execute(query, values)
            else:
                result = self.conn.execute(query)
            self.conn.commit()
            return result
        except Exception as e:
            print(e)
        
    def get_data(self, query):
        data=self.run(query)
        if data:
            return data.fetchall()
        else:
            return None
        self.conn.close()

if __name__ == "__main__":
    db=database()
    r=db.get_data("""select * from report""")
    print(r)
